<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Rock Paper Scissors</title>
    </head>
    <body>
        <script>
            
            // function to capitalize a string
            function capitalize(str) {
                return str.charAt(0).toUpperCase() + str.slice(1).toLowerCase();
            }

            // array containing rock, paper, or scissors for computer to pick from
            let gameArray = ['rock', 'paper', 'scissors']

            // defining the score as 0 vs 0
            let userScore = 0;
            let computerScore = 0;

            // function for the computer to randomly pick rock, paper, or scissors
            function computerPlay() {
                return gameArray[Math.floor(Math.random() * gameArray.length)];
            }

            // user and computer selections are compared to determine winner each round
            function playRound(playerSelection, computerSelection) {
                if (playerSelection.toLowerCase() == computerSelection) {
                    return `You tie! ${capitalize(playerSelection)} matches ${capitalize(computerSelection)}.\nYou: ${userScore} | Computer: ${computerScore}`;
                } else if (playerSelection.toLowerCase() == 'rock' && computerSelection == 'paper') {
                    return `You lose! ${capitalize(computerSelection)} beats ${capitalize(playerSelection)}.\nYou: ${userScore} | Computer: ${++computerScore}`;
                } else if (playerSelection.toLowerCase() == 'rock' && computerSelection == 'scissors') {
                    return `You win! ${capitalize(playerSelection)} beats ${capitalize(computerSelection)}.\nYou: ${++userScore} | Computer: ${computerScore}`;
                } else if (playerSelection.toLowerCase() == 'paper' && computerSelection == 'rock') {
                    return `You win! ${capitalize(playerSelection)} beats ${capitalize(computerSelection)}.\nYou: ${++userScore} | Computer: ${computerScore}`;
                } else if (playerSelection.toLowerCase() == 'paper' && computerSelection == 'scissors') {
                    return `You lose! ${capitalize(computerSelection)} beats ${capitalize(playerSelection)}.\nYou: ${userScore} | Computer: ${++computerScore}`;
                } else if (playerSelection.toLowerCase() == 'scissors' && computerSelection == 'rock') {
                    return `You lose! ${capitalize(computerSelection)} beats ${capitalize(playerSelection)}.\nYou: ${userScore} | Computer: ${++computerScore}`;
                } else if (playerSelection.toLowerCase() == 'scissors' && computerSelection == 'paper') {
                    return `You win! ${capitalize(playerSelection)} beats ${capitalize(computerSelection)}.\nYou: ${++userScore} | Computer: ${computerScore}`;
                } else {
                    return `Please choose either "Rock", "Paper", or "Scissors".`
                }
            }

            // overall function to play a game of rock-paper-scissors to 5, keep score, and then announce an overall winner
                function game () {
                    for (; ; userScore == 5 || computerScore == 5) {
                        if (userScore == 5) {
                            console.log(`Congrats! You won the game ${userScore} to ${computerScore}.`);
                            break;
                        } else if (computerScore == 5) {
                            console.log(`Bummer! You lost the game ${userScore} to ${computerScore}.`);
                            break;
                        } else {
                            let playerSelection = window.prompt('What do you choose?');
                            let computerSelection = computerPlay();
                            console.log(playRound(playerSelection, computerSelection));
                        }
                    }
                }


        </script>
    </body>
</html>